@{
    Layout = "~/Views/Shared/_DataTableLayout1.cshtml";
}

@section TableContent{
    <div id="masterList"></div>
}

@section Tab1Content{
    <div ng-show="selectedTab === 0">
        <div flex-container="row" flex-gutter="24" ng-show="selectedTab === 0" style="padding-left:20px; padding-right:20px;">
            <div flex-item>
                <lx-text-field label="Patient Name" error="validateInput(dataDefinitionMaster.DataItem.PatientName)">
                    <input id="PatientName"
                           type="text"
                           name="PatientName"
                           ng-model="dataDefinitionMaster.DataItem.PatientName"
                           ng-disabled="dataDefinitionMaster.ViewOnly; (dataDefinitionMaster.DataItem.Id != null ? true: false)"
                           ng-click="getPatientList();showDialog('Patients');"
                           ng-change="filterCharacters()" />
                </lx-text-field>
            </div>
            <div flex-container="row" flex-gutter="24" style="{{setStyle}}">
                <div flex-item>
                    <lx-text-field label="Appointment Date" error="validateInput(dataDefinitionMaster.DataItem.AppointmentDate)">
                        <input type="text"
                               name="AppointmentDate"
                               ng-model="dataDefinitionMaster.DataItem.AppointmentDate"
                               ng-disabled="true">
                    </lx-text-field>
                </div>
            </div>
            <div flex-container="row" flex-gutter="24" style="{{setStyle}}">
                <div flex-item>
                    <lx-text-field label="Appointment Time" error="validateInput(dataDefinitionMaster.DataItem.AppointmentTime)" style="{{setStyle}}">
                        <input type="text"
                               name="AppointmentTime"
                               ng-model="dataDefinitionMaster.DataItem.AppointmentTime"
                               ng-disabled="true" />
                    </lx-text-field>
                </div>
            </div>
            <div flex-item>
                <lx-text-field label="Dentist" error="validateInput(dataDefinitionMaster.DataItem.DentistName)">
                    <input type="text"
                           name="DentistName"
                           ng-model="dataDefinitionMaster.DataItem.DentistName"
                           ng-disabled="true" />
                </lx-text-field>
            </div>
        </div>
        <div flex-container="row" flex-gutter="24" ng-show="selectedTab === 0" style="padding-left:20px; padding-right:20px;">

        </div>
        <br />
        @*Patient List Modal*@
        <lx-dialog class="dialog dialog--l" id="Patients" auto-close="true">
            <div class="dialog__header">
                <div class="toolbar bgc-light-blue-500 pl++">
                    <span class="toolbar__label tc-white fs-title">
                        Patient List
                    </span>
                </div>
            </div>
            <div class="dialog__content">
                <dir-data-modal1 datadefinition="dataDefinitionPatientList" filterdefinition="filterDefinitionPatient" otheractions="otherActionPatient(action)" closecontainer="closePatient(dialog)" showformerror="showFormErrorMaster(error)"></dir-data-modal1>
            </div>
            <div class="dialog__actions">
            </div>
        </lx-dialog>
        @*Appointment List Modal*@
        <lx-dialog class="dialog dialog--l" id="Appointments" auto-close="true">
            <div class="dialog__header">
                <div class="toolbar bgc-light-blue-500 pl++">
                    <span class="toolbar__label tc-white fs-title">
                        Appointment List
                    </span>
                </div>
            </div>
            <div class="dialog__content">
                <dir-data-modal1 datadefinition="dataDefinitionAppointmentList" filterdefinition="filterDefinitionAppointment" otheractions="otherActionAppointment(action)" closecontainer="closeAppointment(dialog)" showformerror="showFormErrorMaster(error)"></dir-data-modal1>
            </div>
            <div class="dialog__actions">
            </div>
        </lx-dialog>
    </div>
}

@section Tab2Content{
    <div ng-show="selectedTab === 1">
        <div id="progress"></div>
        <div flex-container="row" flex-gutter="24" ng-show="selectedTab === 1" style="padding-left:20px; padding-right:20px;">
            <div flex-item>
                <lx-text-field label="From" error="validateInput(dataDefinitionDetail.DataItem.FromTime)">
                    <input type="text"
                           name="From"
                           ng-model="dataDefinitionDetail.DataItem.FromTime"
                           pattern=".{4,50}"
                           ng-disabled="dataDefinitionDetail.ViewOnly"
                           ng-click="showDialog('FromTime', 'From')">
                </lx-text-field>
            </div>
            <div flex-item>
                <lx-text-field label="To" error="validateInput(dataDefinitionDetail.DataItem.ToTime)">
                    <input type="text"
                           name="To"
                           ng-model="dataDefinitionDetail.DataItem.ToTime"
                           pattern=".{4,50}"
                           ng-disabled="dataDefinitionDetail.ViewOnly"
                           ng-click="showDialog('ToTime', 'To')">
                </lx-text-field>
            </div>
            <div flex-item style="padding-top:28px">
                <button class="btn btn--m btn--blue btn--raised" ng-click="submitDetail()" ng-disabled="dataDefinitionDetail.ViewOnly">Add</button>
            </div>
        </div>
        <br />
        <div id="detailList" style="padding-left:20px; padding-right:20px;"></div>
        <br />
        <lx-dialog class="dialog dialog--l" id="FromTime" auto-close="true">
            <div class="dialog__header">
            </div>
            <div class="dialog__content">
                <div style="overflow-x:auto;">
                    <time-date-picker ng-model="dataDefinitionDetail.DataItem.FromTime"
                                      display-mode="time" orientation="false"
                                      on-save="saveFn(dataDefinitionDetail.DataItem.FromTime); closeTime('FromTime', 'From')"></time-date-picker>
                </div>
            </div>
            <div class="dialog__actions">
            </div>
        </lx-dialog>
        <lx-dialog class="dialog dialog--l" id="ToTime" auto-close="false">
            <div class="dialog__header">
            </div>
            <div class="dialog__content">
                <div style="overflow-x:auto;">
                    <time-date-picker ng-model="dataDefinitionDetail.DataItem.ToTime"
                                      display-mode="time" orientation="false"
                                      on-save="saveFn(dataDefinitionDetail.DataItem.ToTime); closeTime('ToTime', 'To')"></time-date-picker>
                </div>
            </div>
            <div class="dialog__actions">
            </div>
        </lx-dialog>
    </div>
}
